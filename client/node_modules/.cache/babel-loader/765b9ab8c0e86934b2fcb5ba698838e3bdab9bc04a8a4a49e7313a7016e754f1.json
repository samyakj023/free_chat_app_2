{"ast":null,"code":"var _jsxFileName = \"C:\\\\Desktop\\\\cur_chat_app\\\\free-chat-app\\\\client\\\\src\\\\pages\\\\home\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ChatArea from \"./components/ChatArea\";\nimport UserSearch from \"./components/UserSearch\";\nimport UsersList from \"./components/UsersList\";\nimport { io } from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('https://sheychat-udemy.onrender.com');\nfunction Home() {\n  _s();\n  const [searchKey, setSearchKey] = React.useState(\"\");\n  const {\n    selectedChat,\n    user\n  } = useSelector(state => state.userReducer);\n  const [onlineUsers, setOnlineUsers] = React.useState([]);\n  useEffect(() => {\n    // join the room\n    if (user) {\n      socket.emit(\"join-room\", user._id);\n      socket.emit(\"came-online\", user._id);\n      socket.on(\"online-users-updated\", users => {\n        setOnlineUsers(users);\n      });\n    }\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex gap-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-96\",\n      children: [/*#__PURE__*/_jsxDEV(UserSearch, {\n        searchKey: searchKey,\n        setSearchKey: setSearchKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UsersList, {\n        searchKey: searchKey,\n        socket: socket,\n        onlineUsers: onlineUsers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), selectedChat && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: /*#__PURE__*/_jsxDEV(ChatArea, {\n        socket: socket\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), !selectedChat && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-[80vh]  items-center justify-center flex bg-white flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://www.pngmart.com/files/16/Speech-Chat-Icon-Transparent-PNG.png\",\n        alt: \"\",\n        className: \"w-96 h-96\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-semibold text-gray-500\",\n        children: \"Select a user to chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"flIJlurFgOXbnWyXxnEg++0hp5E=\", false, function () {\n  return [useSelector];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useSelector","ChatArea","UserSearch","UsersList","io","socket","Home","searchKey","setSearchKey","useState","selectedChat","user","state","userReducer","onlineUsers","setOnlineUsers","emit","_id","on","users"],"sources":["C:/Desktop/cur_chat_app/free-chat-app/client/src/pages/home/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ChatArea from \"./components/ChatArea\";\r\nimport UserSearch from \"./components/UserSearch\";\r\nimport UsersList from \"./components/UsersList\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst socket = io('https://sheychat-udemy.onrender.com');\r\nfunction Home() {\r\n  const [searchKey, setSearchKey] = React.useState(\"\");\r\n  const { selectedChat, user } = useSelector((state) => state.userReducer);\r\n  const [onlineUsers, setOnlineUsers] = React.useState([]);\r\n  useEffect(() => {\r\n    // join the room\r\n    if (user) {\r\n      socket.emit(\"join-room\", user._id);\r\n      socket.emit(\"came-online\", user._id);\r\n\r\n      socket.on(\"online-users-updated\", (users) => {\r\n        setOnlineUsers(users);\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"flex gap-5\">\r\n      {/* 1st part   user search , userslist/chatlist */}\r\n      <div className=\"w-96\">\r\n        <UserSearch searchKey={searchKey} setSearchKey={setSearchKey} />\r\n        <UsersList\r\n          searchKey={searchKey}\r\n          socket={socket}\r\n          onlineUsers={onlineUsers}\r\n        />\r\n      </div>\r\n\r\n      {/* 2nd part   chatbox */}\r\n      {selectedChat && (\r\n        <div className=\"w-full\">\r\n          <ChatArea socket={socket} />\r\n        </div>\r\n      )}\r\n\r\n      {!selectedChat && (\r\n        <div className=\"w-full h-[80vh]  items-center justify-center flex bg-white flex-col\">\r\n          <img\r\n            src=\"https://www.pngmart.com/files/16/Speech-Chat-Icon-Transparent-PNG.png\"\r\n            alt=\"\"\r\n            className=\"w-96 h-96\"\r\n          />\r\n          <h1 className=\"text-2xl font-semibold text-gray-500\">\r\n            Select a user to chat\r\n          </h1>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,SAASC,EAAE,QAAQ,kBAAkB;AAAC;AAEtC,MAAMC,MAAM,GAAGD,EAAE,CAAC,qCAAqC,CAAC;AACxD,SAASE,IAAI,GAAG;EAAA;EACd,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM;IAAEC,YAAY;IAAEC;EAAK,CAAC,GAAGX,WAAW,CAAEY,KAAK,IAAKA,KAAK,CAACC,WAAW,CAAC;EACxE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGjB,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC;EACxDV,SAAS,CAAC,MAAM;IACd;IACA,IAAIY,IAAI,EAAE;MACRN,MAAM,CAACW,IAAI,CAAC,WAAW,EAAEL,IAAI,CAACM,GAAG,CAAC;MAClCZ,MAAM,CAACW,IAAI,CAAC,aAAa,EAAEL,IAAI,CAACM,GAAG,CAAC;MAEpCZ,MAAM,CAACa,EAAE,CAAC,sBAAsB,EAAGC,KAAK,IAAK;QAC3CJ,cAAc,CAACI,KAAK,CAAC;MACvB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACR,IAAI,CAAC,CAAC;EAEV,oBACE;IAAK,SAAS,EAAC,YAAY;IAAA,wBAEzB;MAAK,SAAS,EAAC,MAAM;MAAA,wBACnB,QAAC,UAAU;QAAC,SAAS,EAAEJ,SAAU;QAAC,YAAY,EAAEC;MAAa;QAAA;QAAA;QAAA;MAAA,QAAG,eAChE,QAAC,SAAS;QACR,SAAS,EAAED,SAAU;QACrB,MAAM,EAAEF,MAAO;QACf,WAAW,EAAES;MAAY;QAAA;QAAA;QAAA;MAAA,QACzB;IAAA;MAAA;MAAA;MAAA;IAAA,QACE,EAGLJ,YAAY,iBACX;MAAK,SAAS,EAAC,QAAQ;MAAA,uBACrB,QAAC,QAAQ;QAAC,MAAM,EAAEL;MAAO;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QAE/B,EAEA,CAACK,YAAY,iBACZ;MAAK,SAAS,EAAC,qEAAqE;MAAA,wBAClF;QACE,GAAG,EAAC,uEAAuE;QAC3E,GAAG,EAAC,EAAE;QACN,SAAS,EAAC;MAAW;QAAA;QAAA;QAAA;MAAA,QACrB,eACF;QAAI,SAAS,EAAC,sCAAsC;QAAA,UAAC;MAErD;QAAA;QAAA;QAAA;MAAA,QAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QAER;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEV;AAAC,GAjDQJ,IAAI;EAAA,QAEoBN,WAAW;AAAA;AAAA,KAFnCM,IAAI;AAmDb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}